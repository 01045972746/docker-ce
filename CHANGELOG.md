# Changelog 
Items starting with `DEPRECATE` are important deprecation notices. For more
information on the list of deprecated flags and APIs please have a look at
https://docs.docker.com/engine/deprecated/ where target removal dates can also
be found.

## 18.03.0-ce (2018-03-DD)

### --Delete--
* Bump VERSION to 18.03.0-dev [docker/cli#852](https://github.com/docker/cli/pull/852)
* Golint fix with ro_layer.go [moby/moby#36105](https://github.com/moby/moby/pull/36105)
* Integration/TestUpdateMemory: fix false failure [moby/moby#36361](https://github.com/moby/moby/pull/36361)
* Migrate TestAPIStatsContainerGetMemoryLimit from integration-cli to api tests [moby/moby#36178](https://github.com/moby/moby/pull/36178)
* Migrate TestAPIUpdateContainer from integration-cli to api tests [moby/moby#36166](https://github.com/moby/moby/pull/36166)
* Migrate TestAuthAPI from integration-cli to integration [moby/moby#36152](https://github.com/moby/moby/pull/36152)
* Migrate TestCreateTmpfsMountsTarget test to api test [moby/moby#36241](https://github.com/moby/moby/pull/36241)
* Migrate TestKillDifferentUserContainer to api test [moby/moby#36259](https://github.com/moby/moby/pull/36259)
* Migrate TestSecretInspect from integration-cli to api tests [moby/moby#36188](https://github.com/moby/moby/pull/36188)
* Migrate config list tests from integration-cli to api tests [moby/moby#36234](https://github.com/moby/moby/pull/36234)
* Migrate container diff tests in integration-cli to api tests. [moby/moby#36320](https://github.com/moby/moby/pull/36320)
* Migrate container pause tests to api tests [moby/moby#36273](https://github.com/moby/moby/pull/36273)
* Migrate docker_api_inspect_unix_test.go to integration api test [moby/moby#36260](https://github.com/moby/moby/pull/36260)
* Migrate docker_cli_oom_killed_test.go to api tests [moby/moby#36261](https://github.com/moby/moby/pull/36261)
* Migrate docker_cli_stop_test.go to api test [moby/moby#36141](https://github.com/moby/moby/pull/36141)
* Migrate rename tests in integration-cli to api tests [moby/moby#36213](https://github.com/moby/moby/pull/36213)
* Migrate secret list tests from integration-cli to api tests [moby/moby#36221](https://github.com/moby/moby/pull/36221)
* Migrate several resize tests from integration-cli to integration [moby/moby#36177](https://github.com/moby/moby/pull/36177)
* Migrate some integration-cli test to api tests [moby/moby#36148](https://github.com/moby/moby/pull/36148)
* Migrate some kill integration cli test to api tests [moby/moby#36140](https://github.com/moby/moby/pull/36140)
* Migrate some of the nat tests in integration-cli to api tests [moby/moby#36192](https://github.com/moby/moby/pull/36192)
* Migrate some update restart tests to api tests [moby/moby#36284](https://github.com/moby/moby/pull/36284)
* Migrates docker info tests to integration api tests [moby/moby#36235](https://github.com/moby/moby/pull/36235)
* Migrates session tests in integration-cli to api tests [moby/moby#36285](https://github.com/moby/moby/pull/36285)
* Remove some maintainers ðŸ‘¼ [docker/cli#876](https://github.com/docker/cli/pull/876)
* Remove some maintainers ðŸ‘¼ [moby/moby#36301](https://github.com/moby/moby/pull/36301)
* Move dockerfile ENV shell parser functions into subpackage [moby/moby#36156](https://github.com/moby/moby/pull/36156)
* Update golang.org/x/sys vendor [moby/moby#36276](https://github.com/moby/moby/pull/36276)
* Test.md improvements and corrections [moby/moby#35898](https://github.com/moby/moby/pull/35898)
* Cleanup unnecessary and duplicate functions in `daemon_unix.go` [moby/moby#36303](https://github.com/moby/moby/pull/36303)
* Doc guidance to only use 256 IPs per overlay [docker/cli#851](https://github.com/docker/cli/pull/851)
* Test: clean/migrate some docker ps cli-only integration tests [moby/moby#36330](https://github.com/moby/moby/pull/36330)
+ Add e2e container kill test [docker/cli#841](https://github.com/docker/cli/pull/841)
- Fix leading characters being stripped from example sections in YAML [docker/cli#564](https://github.com/docker/cli/pull/564)
- Fix secret and config mode issue [moby/moby#36130](https://github.com/moby/moby/pull/36130)
- Fix typo and incorrect return value in pkg [moby/moby#36299](https://github.com/moby/moby/pull/36299)
- Fix typo in 3.6 schema ID [docker/cli#884](https://github.com/docker/cli/pull/884)
- Fix typos in daemon directory [moby/moby#36275](https://github.com/moby/moby/pull/36275)
- Fix vendor validation (and vendor) [docker/cli#862](https://github.com/docker/cli/pull/862)
- Fix vendor validation [moby/moby#36190](https://github.com/moby/moby/pull/36190)
* Update API docs to show that /containers/{id}/kill returns HTTP 409 [moby/moby#36074](https://github.com/moby/moby/pull/36074)
* Update API version history for `Init` with `POST /containers/create` [moby/moby#36116](https://github.com/moby/moby/pull/36116)
* Update api tests to use container.Run/Create in helper package [moby/moby#36294](https://github.com/moby/moby/pull/36294)
* Update api tests to use the newly added container helper package [moby/moby#36279](https://github.com/moby/moby/pull/36279)
* Update docker kill reference docs [docker/cli#264](https://github.com/docker/cli/pull/264)
* Update docker-py to 5e28dcaace5f7b70cbe44c313b7a3b288fa38916 [moby/moby#36318](https://github.com/moby/moby/pull/36318)
- Fix a typo in CONTRIBUTING.md [moby/moby#36132](https://github.com/moby/moby/pull/36132)
* Make it easier to debug swagger-gen flakes [moby/moby#36193](https://github.com/moby/moby/pull/36193)
+ Add more russian scientists in names-generator.go [moby/moby#35911](https://github.com/moby/moby/pull/35911)
- Fix doubled word in note [docker/cli#857](https://github.com/docker/cli/pull/857)
* Use TagImage in Commit [moby/moby#36271](https://github.com/moby/moby/pull/36271)
* Bump Go to 1.9.3 (cont.) [docker/cli#844](https://github.com/docker/cli/pull/844)
* Bump docker/go-connections to 98e7d807e5d804e4e42a98d74d1dd695321224ef [docker/cli#853](https://github.com/docker/cli/pull/853)
* Bump docker/go-connections to 98e7d807e5d804e4e42a98d74d1dd695321224ef [moby/moby#36163](https://github.com/moby/moby/pull/36163)
+ Add an example for --with-registry-auth [docker/cli#858](https://github.com/docker/cli/pull/858)
* Improve man pages [docker/cli#875](https://github.com/docker/cli/pull/875)
* Clarify description of volume prune command [docker/cli#867](https://github.com/docker/cli/pull/867)
* Remove unused method from multireader package [moby/moby#36323](https://github.com/moby/moby/pull/36323)
* Remove broken container check from image prune [moby/moby#36209](https://github.com/moby/moby/pull/36209)
* Simplify codes on calculating shutdown timeout [moby/moby#34992](https://github.com/moby/moby/pull/34992)
* Refactor Daemon.Commit() [moby/moby#36224](https://github.com/moby/moby/pull/36224)
+ Add examples of prune by label [docker/cli#849](https://github.com/docker/cli/pull/849)
+ Add quotes around format template [docker/cli#859](https://github.com/docker/cli/pull/859)
+ Add unit tests to docker container ls [docker/cli#880](https://github.com/docker/cli/pull/880)
+ Add unit tests to plugin create/remove/enable/disable commands [docker/cli#878](https://github.com/docker/cli/pull/878)
* Create and send codecov report [moby/moby#34900](https://github.com/moby/moby/pull/34900)
* Combine runSimpleContainer with runContainer for rename test [moby/moby#36223](https://github.com/moby/moby/pull/36223)
* Rename integration/util to integration/internal [moby/moby#36265](https://github.com/moby/moby/pull/36265)
* Move commit to container backend [moby/moby#36315](https://github.com/moby/moby/pull/36315)
* Update gitignore [docker/cli#536](https://github.com/docker/cli/pull/536)
* Vendor: update BurntSushi/toml for MIT license [moby/moby#36202](https://github.com/moby/moby/pull/36202)
* Wrap response errors for container copy methods. [moby/moby#35979](https://github.com/moby/moby/pull/35979)
* Ignore exist/not-exist errors on plugin remove [moby/moby#34372](https://github.com/moby/moby/pull/34372)

### ---Triage---

* Make sure we marshall version tooâ€¦ [docker/cli#891](https://github.com/docker/cli/pull/891)
* Replace go-bindata with esc [docker/cli#874](https://github.com/docker/cli/pull/874)
* Set a non-zero timeout for HTTP client communication with plugin backend. [docker/cli#883](https://github.com/docker/cli/pull/883)
* Sync binary commits with vndr [moby/moby#36335](https://github.com/moby/moby/pull/36335)
* Templated secrets and configs [moby/moby#33702](https://github.com/moby/moby/pull/33702)
* Update go-swagger installation steps in Dockerfile [moby/moby#35749](https://github.com/moby/moby/pull/35749)
* Use rslave propagation for mounts from daemon root [moby/moby#36055](https://github.com/moby/moby/pull/36055)
* [client] Remove duplicate NewClient functions [moby/moby#34899](https://github.com/moby/moby/pull/34899)
+ Add /proc/keys to masked paths [moby/moby#36368](https://github.com/moby/moby/pull/36368)
+ Add DOCKER_TLS environment variable for --tls option [docker/cli#863](https://github.com/docker/cli/pull/863)
+ Add Init API field documentation to swagger [moby/moby#34655](https://github.com/moby/moby/pull/34655)

- ### Builder

* switch to -buildmode=pie [moby/moby#34369](https://github.com/moby/moby/pull/34369)
* Allow Dockerfile from outside build-context [docker/cli#886](https://github.com/docker/cli/pull/886)
* Builder: fix wrong cache hits building from tars [moby/moby#36329](https://github.com/moby/moby/pull/36329)
* Update containerd/continuity to fix ARM 32-bit builds [moby/moby#36339](https://github.com/moby/moby/pull/36339)
* Updated docker-on-docker build-notes. [moby/moby#35892](https://github.com/moby/moby/pull/35892)
- Fix string type for buildargs API definition [moby/moby#36246](https://github.com/moby/moby/pull/36246)

### Client

* Simplify the marshaling of compose types.Config [docker/cli#895](https://github.com/docker/cli/pull/895)
* Update reference docs for docker stack deploy [docker/cli#871](https://github.com/docker/cli/pull/871)
+ Add support for multiple composefile when deploying [docker/cli#569](https://github.com/docker/cli/pull/569)
- Fix broken Kubernetes stack flags [docker/cli#831](https://github.com/docker/cli/pull/831)
- Fix stack marshaling for Kubernetes [docker/cli#890](https://github.com/docker/cli/pull/890)
- Fix and simplify bash completion for service env, mounts and labels [docker/cli#682](https://github.com/docker/cli/pull/682)
- Fix `before` and `since` filter for `docker ps` [moby/moby#35938](https://github.com/moby/moby/pull/35938)
- Fix `--label-file` weird behavior [docker/cli#838](https://github.com/docker/cli/pull/838)
- Fix compilation of defaultCredentialStore() on unsupported platforms [docker/cli#872](https://github.com/docker/cli/pull/872)
* Improve and fix bash completion for images [docker/cli#717](https://github.com/docker/cli/pull/717)
+ Added check for empty source in bind mount [docker/cli#824](https://github.com/docker/cli/pull/824)
- Fix TLS from environment variables in client [moby/moby#36270](https://github.com/moby/moby/pull/36270)
* Explain the columns shown in docker stats [docker/cli#860](https://github.com/docker/cli/pull/860)
* GetAll -> Get to retrieve credentials from credential helpers [docker/cli#840](https://github.com/docker/cli/pull/840)
+ Add Engine version to docker node ls [docker/cli#885](https://github.com/docker/cli/pull/885)
* Update event filter zsh completion with `disable`, `enable`, `installâ€¦` [docker/cli#372](https://github.com/docker/cli/pull/372)
* Produce errors when empty ids are passed into inspect calls. [moby/moby#36144](https://github.com/moby/moby/pull/36144)

### Logging

* Awslogs - don't add new lines to maximum sized events [moby/moby#36078](https://github.com/moby/moby/pull/36078)
* Move log validator logic after plugins are loaded [moby/moby#36306](https://github.com/moby/moby/pull/36306)
* Support a proxy in splunk log driver [moby/moby#36220](https://github.com/moby/moby/pull/36220)
- Fix log tail with empty logs [moby/moby#36305](https://github.com/moby/moby/pull/36305)

### Networking

* Bump libnetwork to 5ab4ab830062fe8a30a44b75b0bda6b1f4f166a4 [moby/moby#36099](https://github.com/moby/moby/pull/36099)
* Document long form of --network and --network-add [docker/cli#843](https://github.com/docker/cli/pull/843)
* Libnetwork revendoring [moby/moby#36137](https://github.com/moby/moby/pull/36137)
* Migrates TestContainersAPINetworkMountsNoChown to api tests [moby/moby#36198](https://github.com/moby/moby/pull/36198)
* Verify NetworkingConfig to make sure EndpointSettings is not nil [moby/moby#36077](https://github.com/moby/moby/pull/36077)
+ Add description to TestContainerNetworkMountsNoChown [moby/moby#36226](https://github.com/moby/moby/pull/36226)
- Fix `DockerNetworkInternalMode` issue [moby/moby#36298](https://github.com/moby/moby/pull/36298)
- Fix race in attachable network attachment [moby/moby#36191](https://github.com/moby/moby/pull/36191)
- Fix the network option table [docker/cli#848](https://github.com/docker/cli/pull/848)
- Fix timeout issue of `InspectNetwork` on AArch64 [moby/moby#36257](https://github.com/moby/moby/pull/36257)
* Verbose info is missing for partial overlay ID [moby/moby#35989](https://github.com/moby/moby/pull/35989)

### Runtime

* Enable HotAdd for Windows [moby/moby#35414](https://github.com/moby/moby/pull/35414)
* LCOW: Graphdriver fix deadlock in hotRemoveVHDs [moby/moby#36114](https://github.com/moby/moby/pull/36114)
* LCOW: Regular mount if only one layer [moby/moby#36052](https://github.com/moby/moby/pull/36052)
* Remove interim env var LCOW_API_PLATFORM_IF_OMITTED [moby/moby#36269](https://github.com/moby/moby/pull/36269)
* Revendor Microsoft/opengcs @ v0.3.6 [moby/moby#36108](https://github.com/moby/moby/pull/36108)
* Windows: Bump to final RS3 build number [moby/moby#36268](https://github.com/moby/moby/pull/36268)
- Fix issue of ExitCode and PID not show up in Task.Status.ContainerStatus [moby/moby#36150](https://github.com/moby/moby/pull/36150)
- Fix issue with plugin scanner going to deep [moby/moby#36119](https://github.com/moby/moby/pull/36119)
* Do not make graphdriver homes private mounts. [moby/moby#36047](https://github.com/moby/moby/pull/36047)
* Do not recursive unmount on cleanup of zfs/btrfs [moby/moby#36237](https://github.com/moby/moby/pull/36237)
* Don't restore image if layer does not exist [moby/moby#36304](https://github.com/moby/moby/pull/36304)
** Adjust minimum API version for templated configs/secrets [moby/moby#36366](https://github.com/moby/moby/pull/36366)
* Bump containerd to 1.0.2 (cfd04396dc68220d1cecbe686a6cc3aa5ce3667c) [moby/moby#36308](https://github.com/moby/moby/pull/36308)
* Bump Golang to 1.9.4 [moby/moby#36243](https://github.com/moby/moby/pull/36243)
* Ensure daemon root is unmounted on shutdown [moby/moby#36107](https://github.com/moby/moby/pull/36107)
- Fix import path [moby/moby#36322](https://github.com/moby/moby/pull/36322)
* Update runc to 6c55f98695e902427906eed2c799e566e3d3dfb5 [moby/moby#36222](https://github.com/moby/moby/pull/36222)
- Fix container cleanup on daemon restart [moby/moby#36249](https://github.com/moby/moby/pull/36249)
* Bump golang to 1.9.4 [docker/cli#868](https://github.com/docker/cli/pull/868)
* Support SCTP port mapping (bump up API to v1.37) [moby/moby#33922](https://github.com/moby/moby/pull/33922)
* Support SCTP port mapping [docker/cli#278](https://github.com/docker/cli/pull/278)
- Fix Volumes property definition in ContainerConfig [moby/moby#35946](https://github.com/moby/moby/pull/35946)
* Bump moby and dependencies [docker/cli#829](https://github.com/docker/cli/pull/829)
* Bump moby to 0ede01237c9ab871f1b8db0364427407f3e46541 [docker/cli#894](https://github.com/docker/cli/pull/894)
* Bump moby vendor and dependencies [docker/cli#892](https://github.com/docker/cli/pull/892)
* C.RWLayer: check for nil before use [moby/moby#36242](https://github.com/moby/moby/pull/36242)
+ Add `REMOVE` and `ORPHANED` to TaskState [moby/moby#36146](https://github.com/moby/moby/pull/36146)
+ Add an integration/internal/container helper package [moby/moby#36266](https://github.com/moby/moby/pull/36266)
+ Add canonical import path [moby/moby#36194](https://github.com/moby/moby/pull/36194)
+ Add/use container.Exec() to integration [moby/moby#36326](https://github.com/moby/moby/pull/36326)
- Fix "--node-generic-resource" singular/plural [moby/moby#36125](https://github.com/moby/moby/pull/36125)
* Daemon.cleanupContainer: nullify container RWLayer upon release [moby/moby#36160](https://github.com/moby/moby/pull/36160)
* Daemon: passdown the `--oom-kill-disable` option to containerd [moby/moby#36201](https://github.com/moby/moby/pull/36201)
* Display a warn message when there is binding ports and net mode is host [moby/moby#35510](https://github.com/moby/moby/pull/35510)
* Refresh containerd remotes on containerd restarted [moby/moby#36173](https://github.com/moby/moby/pull/36173)
* Set daemon root to use shared propagation [moby/moby#36096](https://github.com/moby/moby/pull/36096)
* Optimizations for recursive unmount [moby/moby#34379](https://github.com/moby/moby/pull/34379)
* Perform plugin mounts in the runtime [moby/moby#35829](https://github.com/moby/moby/pull/35829)
* Graphdriver: Fix RefCounter memory leak [moby/moby#36256](https://github.com/moby/moby/pull/36256)
* Use continuity fs package for volume copy [moby/moby#36290](https://github.com/moby/moby/pull/36290)
* Use proc/exe for reexec [moby/moby#36124](https://github.com/moby/moby/pull/36124)

### Swarm Mode

* Bump SwarmKit to f74983e7c015a38a81c8642803a78b8322cf7eac [moby/moby#36274](https://github.com/moby/moby/pull/36274)
* Clarify network plugins and swarm mode [docker/cli#869](https://github.com/docker/cli/pull/869)
* Migrates several swarm configs tests from integration-cli to api tests [moby/moby#36291](https://github.com/moby/moby/pull/36291)
* Migrates several swarm secrets from integration-cli to api tests [moby/moby#36283](https://github.com/moby/moby/pull/36283)
* Update swarmkit to 68a376dc30d8c4001767c39456b990dbd821371b [moby/moby#36131](https://github.com/moby/moby/pull/36131)
* [compose]Â Share the compose loading code between swarm and k8s stack deploy [docker/cli#845](https://github.com/docker/cli/pull/845)
+ Add swarm types to bash completion event type filter [docker/cli#888](https://github.com/docker/cli/pull/888)
- Fix issue where network inspect does not show Created time for networks in swarm scope [moby/moby#36095](https://github.com/moby/moby/pull/36095)
